{% extends "layout.html" %}

{% block pageTitle %}
  Blank page
{% endblock %}

{% block beforeContent %}
  <a href="grants" class="govuk-back-link">Back</a>
{% endblock %}



{% block content %}

<div class="govuk-grid-row">

  <div class="govuk-grid-column-two-thirds">

    <h1 class="govuk-heading-xl">
      Results
    </h1>

  </div>
</div>


<div class="govuk-grid-row">

  <form action="{{ thisPage }}" method="POST" role="form">

    <div class="govuk-grid-column-one-third">
      <h3 class="govuk-heading-s">Filters</h3>
      
      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset" aria-describedby="waste-hint">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">
              Grant Type
            </h1>
          </legend>
          <div id="fType-hint" class="govuk-hint">
            Select all that apply.
          </div>
          <div class="govuk-checkboxes">
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="fType-1" name="fType[]" type="checkbox" value="Option">
              <label class="govuk-label govuk-checkboxes__label" for="fType">
                Option
              </label>
            </div>
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="fType-2" name="fType[]" type="checkbox" value="Capital Item">
              <label class="govuk-label govuk-checkboxes__label" for="fType-2">
                Capital Item
              </label>
            </div>
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="fType-3" name="fType[]" type="checkbox" value="Supplement">
              <label class="govuk-label govuk-checkboxes__label" for="fType-3">
                Supplement
              </label>
            </div>
          </div>
      
        </fieldset>
      </div>

      <input type="text" name="type" value="{{ type }}">
      <button type="submit" class="govuk-button" name="grantNum" value="3">Test Submit of Form</button>
    </div>



    <div class="govuk-grid-column-two-thirds">

      <table class="govuk-table">
        <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">{{ grantList.length }} grants</th>
          <th scope="col" class="govuk-table__header">Type</th>
        </tr>
        </thead>
        <tbody class="govuk-table__body">

        {% if grantList.length === 0 %}
        <tr class="govuk-table__row">
          <td scope="row" class="govuk-table__cell" colspan="2">No results found</td>
        </tr>
        {% else %}

          {% for i in range(0, grantList.length) -%}
          <tr class="govuk-table__row">
            <td scope="row" class="govuk-table__cell"><a href="grant-details?grant={{ grantList[i] }}">{{ data.import.grants[grantList[i]].code }} {{ data.import.grants[grantList[i]].title }}</a></td>
            <td class="govuk-table__cell">{{ data.import.grants[grantList[i]].type }}</td>
          </tr>
          {%- endfor %}

        {% endif %}

        </tbody>
      </table>


    </div>

  </form>
</div>


{% endblock %}
